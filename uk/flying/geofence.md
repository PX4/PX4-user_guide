# Геозона

Геозона — це віртуальна межа, яка визначає, де може рухатися апарат. Геозони можна використовувати, щоб запобігти польоту апарату за межі зони дії пульта дистанційного керування або в небезпечний чи обмежений повітряний простір.

PX4 надає два незалежні механізми для визначення геозони:

- Базова "безвідмовна" геозона, яка визначається простим циліндром.
- Більш складні геометрії можуть бути визначені за допомогою плану геозони (_QGroundControl_).

:::note
Геозони застосовуються у всіх режимах, включаючи як місії, так і ручний політ.
:::

## Безвідмовна геозона

[Безвідмовна геозона](../config/safety.md#geofence-failsafe) визначає циліндр, центрований відносно домашньої позиції, з вказаним максимальним радіусом і висотою.

Налаштування також включають "аварійну дію" у випадку порушення геозони. Це може бути просто попереджувальне сповіщення, але частіше апарат негайно [повертається](../flight_modes/return.md) у безпечну локацію.

Для отримання додаткової інформації дивіться: [ Безпека > Безвідмовна геозона](../config/safety.md#geofence-failsafe).

## План геозони

PX4 підтримує комплексні межі геозони, які складаються з кількох кругових та багатокутних областей, які можуть бути визначені як зони включення (літати всередині) або виключення (літати зовні).

Геозона планується в _QGroundControl_ разом з місією та точками збору.

![План геозони](../../assets/qgc/plan_geofence/geofence_overview.jpg)

Планування геозони детально описане в [Перегляд плану > Геозона](https://docs.qgroundcontrol.com/master/en/PlanView/PlanGeoFence.html) (Керівництво користувача QGroundControl).

Підсумовуючи:

1. Відкрийте _QGroundControl > Перегляд плану_.
1. Оберіть _Тип плану_: **Fence**. Це відобразить _Редактор геозони_. ![План геозони](../../assets/qgc/plan_geofence/geofence_editor.jpg)
1. Оберіть **Polygon Fence** або **Circular Fence**, щоб додати на карту _базову_ зону бажаного типу. Це також додає запис про тип зони в редактор.
1. Використовуйте карту для налаштування форми та положення зони.
   - Маркер центру зони може бути використаний для переміщення зони у правильне положення.
   - Маркер на межі кругової зони може бути використаний для зміни радіуса.
   - Маркери на кутах (вершинах) можуть бути використані для зміни геометрії полігону. Додаткові вершини створюються шляхом натискання на середину ліній між наявними маркерами.
1. Використовуйте _Редактор геозони_ для встановлення зони як включення або виключення, а також для вибору зони для редагування (кнопка **Edit**) або видалення (кнопка **Del**).
1. Додайте стільки зон, скільки забажаєте.
1. Після завершення натисніть кнопку **Upload** (у верхньому правому куті), щоб відправити зону (разом із точками збору та місією) до апарату.
1. Встановіть дію при порушенні в [Geofence Failsafe](../config/safety.md#geofence-failsafe).

:::note
Будь-яка геозона, яка не включає домашню позицію, буде відхилена політним контролером і не буде завантажена.
Якщо апарат знаходиться в польоті, будь-яка геозона, яка одразу ж буде порушена після завантаження, також відхиляється.
:::

:::note PX4 реалізує [мікросервіс місій](https://mavlink.io/en/services/mission.html) MAVLink, який включає підтримку геозон.
:::
