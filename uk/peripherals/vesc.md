# VESC ESCs (DroneCAN)

Проект [VESC](https://vesc-project.com/) є повністю відкритим апаратним та програмним забезпеченням для передових контролерів двигуна FOC. Хоча його можна контролювати за допомогою традиційного введення ШІМ, він також підтримує підключення через шину CAN за допомогою [DroneCAN](../dronecan/index.md).

## Де купити

[Проект Vesc >  Апаратне забезпечення](https://vesc-project.com/Hardware)

## Налаштування програмного забезпечення

### Підключення

ЕСС підключені до шини CAN за допомогою роз'єму CAN VESC. Зверніть увагу, що це _не_ стандартний роз'єм JST GH з 4 контактами Pixhawk. Для отримання додаткової інформації, зверніться до інструкцій з [проводки CAN](../can/index.md#wiring). Порядок ESC не має значення.

## Налаштування прошивки

Перевагою інструменту для переліку двигунів є [інструмент VESC](https://vesc-project.com/vesc_tool). Крім звичайної конфігурації двигуна, яку вам потрібно буде налаштувати в інструменті VESC, вам також потрібно належним чином налаштувати конфігурацію додатка. Рекомендоване налаштування додатку виглядає наступним чином:

| Параметр                             | Опції                  |
| ------------------------------------ | ---------------------- |
| Додаток для використання             | `Немає додатку`        |
| VESC ID                              | `1,2,...`              |
| Режим повідомлення статусу Can       | `CAN_STATUS_1_2_3_4_5` |
| Швидкість передачі даних по шині CAN | `CAN_BAUD_500K`        |
| CAN режим                            | `UAVCAN`               |
| Індекс UAVCAN ESC                    | `0,1,...`              |

Ідентифікатор VESC повинен мати таке ж нумерування двигуна, як і в конвенції PX4, починаючи з `1` для верхнього правого двигуна, `2` для нижнього лівого двигуна тощо. Однак `UAVCAN ESC Index` починається з `0`, і тому завжди на один індекс нижче, ніж `VESC ID`. Наприклад, у квадрокоптері лівий нижній двигун матиме `VESC ID = 2` та `UAVCAN ESC Index = 1`.

Наостанок, швидкість передачі даних `CAN Baud Rate` повинна відповідати значенню, встановленому в [UAVCAN_BITRATE](../advanced_config/parameter_reference.md#UAVCAN_BITRATE).

## Налаштування польотного контролера

### Увімкнути DroneCAN

Підключіть ESC до шини CAN Pixhawk. Увімкніть весь транспортний засіб за допомогою акумулятора або джерела живлення (не лише контролера польоту через USB) та увімкніть драйвер DroneCAN, встановивши параметр [UAVCAN_ENABLE](../advanced_config/parameter_reference.md#UAVCAN_ENABLE) на `3`, щоб увімкнути як динамічне призначення ідентифікатора вузла, так і вивід ESC DroneCAN.

### Налаштування PX4

Назначте двигуни на виходи, використовуючи екран конфігурації [Acutator](../config/actuators.md#actuator-testing).

<!-- removed as there is no info for it in linked doc -->
<!--
## Troubleshooting

See DroneCAN Troubleshooting - (index.md#troubleshooting).
-->

## Подальша інформація

- [VESC Проект ESCs](https://vesc-project.com/)
- [Блог Бенджамина Веддера](http://vedder.se) (власник проекту)
