# 시동 전, 시동, 제동 구성

기체에는 움직이는 부품이 있으며, 그 중에는 특히 모터와 프로펠러는 전원 공급시 위험할 수 있습니다.

사고의 위험을 줄이기 위하여, PX4는 명확한 상태에서만 부품들의 전원을 공급합니다.
- **제동:** 모터와 액츄에이터에 전원을 인가하지 않음
- **시동 전:** 모터와 프로펠러를 잠궈두었으나 액츄에이터에는 위험하지 않은 수준의 전원을 인가함(예: 보조익, 플랩 등).
- **시동:** 기체 전체에 전원을 인가한 상태. 모터와 프로펠러가 동작할 수 있음(위험!)

:::tip
시동 전 기체 상태를 지상제어국에서 *disarmed*로 표시됩니다. 시동전의 기체는 기술적으로 타당하지는 않지만, "안전"한 상태입니다.
:::

Users can control progression though these states using a [safety switch](../getting_started/px4_basic_concepts.md#safety-switch) on the vehicle (optional) *and* an [arming switch/button](#arm_disarm_switch), [arming gesture](#arm_disarm_gestures),  or *MAVLink command* on the ground controller:
- *안전 스위치*는 *기체*의 제어 장치로, 기체에 시동을 걸 수 있기 전 가동해야 하며, 시동 전에 시동이 멋대로 켜지는 일을 (설정에 따라) 막을 수 있어야 합니다. 보통 안전 스위치는 GPS 장치에 붙어있으나, 별도의 부품으로 공급되기도 합니다.

  :::warning
일단 기체에 시동이 걸리면 위험합니다.
안전 스위치는 의도하지 않게 갑자기시동이 걸리는 것을 방지합니다.
:::
- *시동 스위치*는 기체에 시동을 걸고 모터를 시동하는 데 사용할 수 있는 *RC 컨트롤러*의 스위치 또는 버튼입니다 (안전 스위치로 시동을 방지하지 않는 경우).
- *시동 제스쳐*은 시동 스위치 대신 사용할 수있는 *RC 컨트롤러*의 스틱 이동입니다.
- MAVLink 명령은 지상국에서 기체의 시동을 걸거나 시동을 해제할 수 있습니다.

PX4는 시동 후 일정 시간 내에 이륙하지 않고, 착륙 후 수동으로 시동 해제하지 않으면, 기체의 시동은 자동으로 해제됩니다. 이것은 시동이 걸린 기체가 지상에서 안전사고를 유발할 수 있는 시간을 줄입니다.

PX4에서는 다음 섹션에 설명된 대로 매개변수([매개변수 편집기](../advanced_config/parameters.md)를 통하여 *QGroundControl*에서 편집할 수 있음)를 사용하여 사전 준비, 준비 및 해제의 작동 방식을 설정할 수 있습니다.

:::tip
시동/제동 매개변수는 [매개변수 참고 > 명령](../advanced_config/parameter_reference.md#commander) 에서 찾을 수 있습니다(`COM_ARM_*` 과 `COM_DISARM_*`으로 검색).
:::

<span id="arm_disarm_gestures"></span>
## 시동 제스쳐

기본적으로, 기체는 무선조종장치의 추진 제어 스틱과 방위 제어 스틱을 움직인 후  잠깐 동안 또는 1초 동안 상태를 유지하면 시동을 걸거나 시동을 해제할 수 있습니다.
- **시동:** 스로틀 최소, 요 최대
- **시동 해제 :** 스로틀 최소, 요 최소

무선조종장치는 [모드에 따라](../getting_started/rc_transmitter_receiver.md#types-of-remote-controls) 제어 방법이 다릅니다. 제어 모드는 추진 제어와 방위 제어에 사용하는 스틱이 달라집니다.
- **모드 2**:
  - *시동:* 왼쪽 스틱은 오른쪽, 오른쪽 스틱은 아래쪽입니다.
  - *시동 해제:* 왼쪽 스틱은 왼쪽, 오른쪽 스틱은 아래쪽입니다.
- **모드 1**:
  - *시동:* 왼쪽 스틱을 우하단으로 위치시킵니다.
  - *시동 해제:* 왼쪽 스틱을 좌하단에 위치시킵니다.

필요한 보류 시간은 [COM_RC_ARM_HYST](#COM_RC_ARM_HYST)에서 설정합니다.

| 매개변수                                                                                                             | 설명                                                           |
| ---------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------ |
| <span id="COM_RC_ARM_HYST"></span>[COM_RC_ARM_HYST](../advanced_config/parameter_reference.md#COM_RC_ARM_HYST) | 시동과 시동 해제가 발생하기 전에 RC 스틱이 시동/시동 해제 위치에 있어야하는 시간 (기본값 : 1 초). |

<span id="arm_disarm_switch"></span>
## 시동 스위치

*시동 버튼* 또는 "순간 스위치"는 [제스처 기반 무장](#arm_disarm_gestures) 대신 *시동/시동 해제*를 트리거하도록 설정할 수 있습니다. 시동 해제 (시동 해제시) 또는 시동 해제 (시동시)를 위하여([명목상](#COM_RC_ARM_HYST)) 1초 동안 버튼을 누르고 있어야 합니다.

두 위치 스위치는 준비/시동 해제에도 사용할 수 있으며, 여기서 각 시동/시동 해제 명령은 스위치 *전환*에서 전송됩니다.

:::tip
이중 위치 시동 스위치는 주로 레이싱 드론에 사용되고 권장됩니다.
:::

스위치 또는 버튼은 [RC_MAP_ARM_SW](#RC_MAP_ARM_SW)를 사용하여 할당(및 활성화)되고 스위치 "유형"은 [COM_ARM_SWISBTN](#COM_ARM_SWISBTN)에서 설정합니다.


| 매개변수                                                                                                             | 설명                                                                                                                                                                                                                                  |
| ---------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span id="RC_MAP_ARM_SW"></span>[RC_MAP_ARM_SW](../advanced_config/parameter_reference.md#RC_MAP_ARM_SW)       | RC arm 스위치 채널 (기본값 : 0 - 할당되지 않음). 정의된 경우 지정된 RC 채널(버튼/스위치)이 스틱 제스처 대신 시동용으로 사용됩니다. 이 설정은 *스틱 제스처를 비활성화합니다*!   
-이 설정은 RC 컨트롤러에 적용됩니다. *QGroundControl*을 통해 연결된 조이스틱 컨트롤러에는 적용되지 않습니다.                                              |
| <span id="COM_ARM_SWISBTN"></span>[COM_ARM_SWISBTN](../advanced_config/parameter_reference.md#COM_ARM_SWISBTN) | 시동 스위치는 순간적으로 동작하는 버튼입니다. <br> - `0`: 시동 스위치는 스위치 전환시 arm/disarm 명령이 전송되는 이중 위치 스위치입니다. <br> - `1` : 시동 스위치는 버튼입니다. 또는 설정된 시간 ([COM_RC_ARM_HYST](#COM_RC_ARM_HYST)) 동안 버튼을 누른 후 arm/disarm 명령 ae가 전송되는 순간 동작하는 버튼입니다. |

:::note
스위치는 *QGroundControl* [비행 모드](../config/flight_mode.md)일부로 설정할 수도 있습니다.
:::

## 자동 시동 해제

기본적으로, 기체는 착륙시 시동 해제 되며, 시동후 이륙 시간이 너무 오래 걸리면 자동으로 시동 해제됩니다. 이 기능은 다음 시간 제한을 사용하여 설정됩니다.

| 매개변수                                                                                                                | 설명                                                           |
| ------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------ |
| <span id="COM_DISARM_LAND"></span>[COM_DISARM_LAND](../advanced_config/parameter_reference.md#COM_DISARM_LAND)    | 착륙후 자동 시동 해제 대기 시간. 기본값: 2s (-1 비활성화).                       |
| <span id="COM_DISARM_PRFLT"></span>[COM_DISARM_PRFLT](../advanced_config/parameter_reference.md#COM_DISARM_PRFLT) | 이륙 속도가 너무 느리면 자동 시동 해제 시간이 초과됩니다. 기본값: 10s (<=0 to disable). |


## 시동 절차: 시동전 상태와 안전 버튼

[COM_PREARM_MODE](#COM_PREARM_MODE) 매개변수는 사전 준비 모드가 활성화 여부와 시기를 정의합니다 (안전/비 추진 액추에이터가 움직일 수 있음) :

[COM_PREARM_MODE](#COM_PREARM_MODE) 매개변수는 사전 준비 모드가 활성화 여부와 시기를 정의합니다 (안전/비 추진 액추에이터가 움직일 수 있음) :
- *비활성화* : 시정전 모드 비활성화( 비 추진 액추에이터만 활성화되는 단계가 없음).
- *안전 스위치* (기본값) : 안전 스위치에 의해 시동전 모드가 활성화됩니다. 안전 스위치가 없으면 시동전 모드가 활성화되지 않습니다.
- *항상* : 전원을 켜면 시동전 모드가 활성화됩니다.

기본 설정에서는 시동전에 안전 스위치를 사용하도록 설정합니다. 시동 전에 스위치를 켠후, 모든 모터와 액츄에이터를 가동하기 위하여 시동을 걸 수 있습니다.

아래 섹션에서는 여러가지 설정의 시작 순서를 자세히 설명합니다.


### 기본값: COM_PREARM_MODE = Safety and Safety Switch

기본 설정에서는 시동전에 안전 스위치를 사용하도록 설정합니다. 시동전에 이 스위치를 켜면 모든 모터와 액츄에이터를 가동하기 위하여 시동을 걸 수 있습니다. 이에 해당하는 설정은 [COM_PREARM_MODE=1](#COM_PREARM_MODE) (안전 스위치 사용)과 [CBRK_IO_SAFETY=0](#CBRK_IO_SAFETY) (입출력 안전 회로 차단기 비활성)이 있습니다.

시작 절차는 다음과 같습니다:
1. 전원 인가
   - 모든 액츄에이터를 시동 해제 상태로 잠금
   - 시동 걸기 불가능
1. 안전 스위치 누름
   - 시스템이 시동전 상태로 전환: 추진 모터를 제외한 모든 액츄에이터 동작 가능(예: 보조익)
   - 시스템 안전 장치 꺼짐: 시동 가능
1. 시동 명령 인가
   - 시스템에 시동이 걸림
   - 모든 모터와 액츄에이터를 움직일 수 있음

### COM_PREARM_MODE = Disabled and Safety Switch

시동전 모드가 *비활성화*인 경우 안전 스위치를 작동하여도 "안전" 액추에이터의 잠금이 해제되지는 않지만 기체의 시동을 걸 수 있습니다. 이는 [COM_PREARM_MODE = 0](#COM_PREARM_MODE) (비활성화) 및 [CBRK_IO_SAFETY = 0](#CBRK_IO_SAFETY) (I/O 안전 회로 차단기 비활성화)에 해당합니다.

시작 절차는 다음과 같습니다:
1. 전원 인가
   - 모든 액츄에이터를 시동 해제 상태로 잠금
   - 시동 걸기 불가능
1. 안전 스위치 누름
   - *모든 액츄에이터가 시동 해제 상태로 잠김 (시동 해제 상태와 동일).*
   - 시스템 안전 장치 꺼짐: 시동 가능
1. 시동 명령 인가
   - 시스템에 시동이 걸림
   - 모든 모터와 액츄에이터를 움직일 수 있음

### COM_PREARM_MODE = Always and Safety Switch

시동전 모드가 *Always*이면 전원을 켤 때 시동전 모드가 활성화됩니다. 시동 걸기 위하여 여전히 안전 스위치가 필요합니다. 이는 [COM_PREARM_MODE = 2](#COM_PREARM_MODE) (항상) 및 [CBRK_IO_SAFETY = 0](#CBRK_IO_SAFETY) (I/O 안전 회로 차단기 비활성화 됨)에 해당합니다.

시작 절차는 다음과 같습니다:
1. 전원 인가
   - 시스템이 시동전 상태로 전환: 추진 모터를 제외한 모든 액츄에이터 동작 가능(예: 보조익)
   - 시동 걸기 불가능
1. 안전 스위치 누름
   - 시스템 안전 장치 꺼짐: 시동 가능
1. 시동 명령 인가
   - 시스템에 시동이 걸림
   - 모든 모터와 액츄에이터를 움직일 수 있음


### COM_PREARM_MODE = Safety or Disabled and No Safety Switch

안전 스위치가 없는 경우 `COM_PREARM_MODE`가 *안전* 또는 *비활성화*로 설정된 경우 사전 준비 모드를 활성화할 수 없습니다 (비활성화와 동일). 이는 [COM_PREARM_MODE = 0 또는 1](#COM_PREARM_MODE) (비활성화/안전 스위치) 및 [CBRK_IO_SAFETY = 22027](#CBRK_IO_SAFETY) (I/O 안전 회로 차단기 사용)에 해당합니다.

시작 절차는 다음과 같습니다:
1. 전원 인가
   - 모든 액츄에이터를 시동 해제 상태로 잠금
   - 시스템 안전 장치 꺼짐: 시동 가능
1. 시동 명령 인가
   - 시스템에 시동이 걸림
   - 모든 모터와 액츄에이터를 움직일 수 있음


### COM_PREARM_MODE = Always and No Safety Switch

시동전 모드가 *Always*이면, 전원을 켤 때 시동전 모드가 활성화됩니다. 이는 [COM_PREARM_MODE = 2](#COM_PREARM_MODE) (항상) 및 [CBRK_IO_SAFETY = 22027](#CBRK_IO_SAFETY) (I/O 안전 회로 차단기 사용)에 해당합니다.

시작 절차는 다음과 같습니다:
1. 전원 인가
   - 시스템이 시동전 상태로 전환: 추진 모터를 제외한 모든 액츄에이터 동작 가능(예: 보조익)
   - 시스템 안전 장치 꺼짐: 시동 가능
1. 시동 명령 인가
   - 시스템에 시동이 걸림
   - 모든 모터와 액츄에이터를 움직일 수 있음


### 매개변수

| 매개변수                                                                                                             | 설명                                                                                                                                            |
| ---------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| <span id="COM_PREARM_MODE"></span>[COM_PREARM_MODE](../advanced_config/parameter_reference.md#COM_PREARM_MODE) | 시동전 모드로 진입하는 상태입니다. `0`: 비활성, `1`: 안전 스위치(안전 스위치로 시동 전 모드 활성 가능, 스위치가 없으면 이 옵션을 사용할 수 없습니다), `2`: 항상(전원 인가 후 시동 전 모드를 켭니다). 기본값: `1` (안전 단추). |
| <span id="CBRK_IO_SAFETY"></span>[CBRK_IO_SAFETY](../advanced_config/parameter_reference.md#CBRK_IO_SAFETY)    | 입출력 안전을 위한 회로 차단.                                                                                                                             |



<!-- Discussion:
https://github.com/PX4/PX4-Autopilot/pull/12806#discussion_r318337567 
https://github.com/PX4/PX4-user_guide/issues/567#issue-486653048
-->
